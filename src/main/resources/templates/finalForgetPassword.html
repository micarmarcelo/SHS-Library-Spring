<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">
<head>
	<title>SHS Library Reservation System</title>

	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import .css-->
	<link type="text/css" rel="stylesheet" th:href="@{/css/materialize.min.css}"  media="screen,projection"/>
	<link type="text/css" rel="stylesheet" th:href="@{/css/main-style.css}"/>
	<link type="text/css" rel="stylesheet" th:href="@{/css/registration-style.css}"/>
	<link rel="script" type="text/css" th:href="@{/js/login.js}" />

	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
<!--Header-->
<nav>
	<div class="nav-wrapper">
		<div class="logo-container">
			<img id="dlsu-logo" th:src="@{/images/dlsu-logo.png}">
			<div class="dlsu-text">
				<font size="3"><span>De La Salle University - Manila</span></font>
				<font size="2"><span>SHS Library Reservation System</span></font>
			</div>
		</div>
	</div>
</nav>

<!--Forgot Password Container-->
<div class="container">
	<h5>Forgot Password</h5>
	<h6>Enter the username associated with your account to reset your password.</h6>
	<br>
	<div class="row">
		<div class="input-field col s6">
			<form th:action="@{/changePasswordForget}" method="POST">
				<div class="input-field col s6">
					<input id="password" name="password" type="password" class="validate" onkeyup="return checkPassword(this);" required>
					<label for="password">Password</label>
				</div>
				<!--<i id="password_information" class="material-icons prefix col s1">information</i>-->
				<div class="input-field col s6">
					<input id="checkPassword" type="password" onkeyup="checkPass(); return false;" name="checkPassword" class="validate" required>
					<label for="checkPassword">Re-enter Password</label>
					<span id="confirmMessage" class="confirmMessage"></span>
				</div>
				<input type="hidden" id="username" name="username" th:value="${user.username}">
				<button id="btn-submit" value="Submit" class="btn waves-effect waves-light" type="submit" name="action">Submit</button>
			</form>


		</div>
	</div>

</div>

<!--Import jQuery before materialize.js-->
<script type="text/javascript" th:src="@{/js/jquery-2.1.1.min.js}"></script>
<script type="text/javascript" th:src="@{/js/materialize.min.js}"></script>
<script>
    function checkPassword(str)
    {
        var re = /(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
        return re.test(str);
    }

    function checkPass()
    {
        //Store the password field objects into variables ...
        var pass1 = document.getElementById('password');
        var pass2 = document.getElementById('checkPassword');
        //Store the Confimation Message Object ...
        var message = document.getElementById('confirmMessage');
        //Set the colors we will be using ...
        var goodColor = "transparent";
        var badColor = "red";
        //Compare the values in the password field
        //and the confirmation field
        if(pass1.value == pass2.value){
            //The passwords match.
            //Set the color to the good color and inform
            //the user that they have entered the correct password
            pass2.style.backgroundColor = goodColor;
            message.style.color = "black";
            message.innerHTML = "Passwords Match!";
            document.getElementById("btn-submit").disabled = false;
        }else{
            //The passwords do not match.
            //Set the color to the bad color and
            //notify the user.
            pass2.style.backgroundColor = goodColor;
            message.style.color = badColor;
            message.innerHTML = "Passwords Do Not Match!";
            document.getElementById("btn-submit").disabled = true;
        }
    }
</script>
</body>

</html>